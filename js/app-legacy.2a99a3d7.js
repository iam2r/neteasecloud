(function(e){function t(t){for(var r,o,c=t[0],s=t[1],u=t[2],h=0,f=[];h<c.length;h++)o=c[h],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"1d71":function(e,t,n){},"39b3":function(e,t,n){},"6c7d":function(e,t,n){},"7a06":function(e,t,n){},a11d:function(e,t,n){},a1a3:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a={transitions:{pages:"fade"}},i=(r["default"].prototype.$state=r["default"].observable(a),n("d4ec")),o=n("bee2"),c=n("262e"),s=n("2caf"),u=(n("d3b7"),n("96cf"),n("1da1")),l=(n("4160"),n("c975"),n("d81d"),n("a434"),n("159b"),function(){function e(){Object(i["a"])(this,e),this.events={}}return Object(o["a"])(e,[{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(!this.events[e])return this;var i=this.events[e];return i.map((function(e){return e})).forEach((function(e){return e.apply(t,r)})),this}},{key:"off",value:function(e,t){if(!this.events[e])return this;if(!t)return this.events[e]=null,this;var n=this.events[e].indexOf(t);return this.events[e].splice(n,1),this}},{key:"once",value:function(e,t){var n=this,r=function r(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];t.apply(n,i),n.off(e,r)};return this.on(e,r),this}}]),e}()),h=n("bc3a"),f=n.n(h);f.a.defaults.withCredentials=!0;var p,v=function e(){Object(i["a"])(this,e)},d=function(e){Object(c["a"])(r,e);var t=Object(s["a"])(r);function r(e,n){var a;return Object(i["a"])(this,r),a=t.call(this),a.timeout=6e4,a.url=e,a.timeout=n||a.timeout,f.a.defaults.timeout=a.timeout,a}return Object(o["a"])(r,[{key:"send",value:function(e,t,r){var a=this;return console.log("ajax Request: ".concat(e," ")+JSON.stringify(t)),new Promise(function(){var i=Object(u["a"])(regeneratorRuntime.mark((function i(o,c){var s,u,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s=null,u=null,l=f.a.post(a.url+"/"+e+"?"+n("4328").stringify({timestamp:+new Date}),t),l.catch((function(t){console.error(t.message),s={command:e,err:t},a.emit("http-error",s),r&&r(s,u),c(s)})),i.next=5,l;case 5:u=i.sent.data,console.log("ajax Response: ".concat(e," ")+JSON.stringify(u)),200==u.code?(r&&r(s,u),o(u)):(s={command:e,err:u},a.emit("res-error",s),r&&r(s,null),c(s));case 8:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}())}}]),r}(l);(function(e){e["SearchAdvice"]="search/default",e["Search"]="search"})(p||(p={}));var b=function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"searchAdvice",value:function(e){return this.send(p.SearchAdvice,new v,e)}},{key:"search",value:function(e,t){return this.send(p.Search,e,t)}}]),n}(d),m=n("72c2"),y=function(){function e(){Object(i["a"])(this,e),this.isWinPlatForm=/^Win\w+/.test(navigator.platform)}return Object(o["a"])(e,[{key:"checkHtmlScroll",value:function(e){m["a"].mobile()&&m["a"].ios()&&m["a"].iphone()&&"portrait"==e&&setTimeout((function(){document.documentElement.scrollTop=0}),300)}},{key:"initPushNavBar",value:function(){var e=this;if(m["a"].mobile()&&m["a"].ios()&&m["a"].iphone()){var t=!1,n=function n(){var r=screen.width,a=0,i=!e.isWinPlatForm&&innerHeight<innerWidth&&innerHeight<r+a,o=document.body;i?(o.style.pointerEvents="none",o.style.height="200vw",t||(window.scrollTo(0,0),t=!0)):(o.style.pointerEvents="",o.style.height="",t=!1),requestAnimationFrame(n)};n()}}}]),e}(),O=new b("http://66.11.117.120:3000"),j=new l,g=new y;m["a"].onChangeOrientation((function(e){console.log("New orientation is ".concat(e)),g.checkHtmlScroll(e)})),g.initPushNavBar();m["a"],n("b429"),n("f5df1"),n("a7a3"),n("f57e");var w=n("8c4f"),k=n("9ab4"),S=n("48d3"),x=n("60a3"),T=(n("7a06"),function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"render",value:function(){var e=arguments[0];return e("div",{class:"page-home"},["home"])}}]),n}(S["Component"]));T=Object(k["a"])([x["a"]],T);var A=T,C=function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"render",value:function(){var e=arguments[0];return e("div",{class:"page-mine"},["mine"])}}]),n}(S["Component"]);C=Object(k["a"])([x["a"]],C);var P,$=C;(function(e){e["Home"]="home",e["Mine"]="mine"})(P||(P={})),r["default"].use(w["a"]);var N=[{path:"/"+P.Home,name:P.Home,component:A},{path:"/"+P.Mine,name:P.Mine,component:$},{path:"*",redirect:{name:P.Home}}],H=new w["a"]({mode:"hash",base:"",routes:N}),R=H,V=(n("b0c0"),n("2b88")),M=(n("caad"),n("ac1f"),n("2532"),n("5319"),n("5530")),E=n("b85c"),_=n("7212"),D=n("6dd8"),L=(n("39b3"),function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"mounted",value:function(){var e=this;this.initClickHandel(),setTimeout((function(){e.updateScroll(),e.observeResize()}))}},{key:"observeResize",value:function(){var e=this,t=[this.$el,this.$el.querySelector(".swiper-slide")],n=new D["a"]((function(n){var r,a=Object(E["a"])(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;t.includes(i.target)&&e.updateScroll()}}catch(o){a.e(o)}finally{a.f()}}));t.forEach((function(e){return n.observe(e)}))}},{key:"initClickHandel",value:function(){var e=this;this.swiperScroll.el.addEventListener("click",(function(){e.stopScroll()}))}},{key:"addNoSwipingToTextNode",value:function(e){var t=this,n=e.childNodes;n.forEach((function(e){if(1==e.nodeType)t.addNoSwipingToTextNode(e);else if(3==e.nodeType&&e.nodeValue.replace(/(^\s*)|(\s*$)/g,"")){var n=e.parentNode;n.classList.remove("swiper-no-swiping"),n.classList.add("swiper-no-swiping")}}))}},{key:"updateScroll",value:function(){this.swiperScroll.update(),this.swiperScroll.scrollbar&&this.swiperScroll.scrollbar.updateSize()}},{key:"stopScroll",value:function(){var e=this.swiperScroll;this.scrollTo(e.getTranslate(),0)}},{key:"scrollTo",value:function(e,t){var n=this.swiperScroll;n.touchEventsData.allowMomentumBounce=!1,n.transitionEnd(),n.setTransition(t),n.setTranslate(e)}},{key:"render",value:function(){var e=arguments[0];return e(_["Swiper"],{ref:"mySwiper",class:"scroll-container",attrs:{options:Object(M["a"])(Object(M["a"])({},this.options),{},{scrollbar:Object(M["a"])(Object(M["a"])({},this.options.scrollbar),{},{el:this.options.scrollbar.el+"-"+this._uid})})}},[e(_["SwiperSlide"],{ref:"scroller",class:this.scrollerClass},[this.$scopedSlots.default()]),e("div",{class:["swiper-scrollbar",(this.options.scrollbar.el+"-"+this._uid).replace(".","").replace("#","")],slot:"scrollbar"})])}},{key:"swiperScroll",get:function(){return this.$refs.mySwiper.$swiper}}]),n}(S["Component"]));Object(k["a"])([Object(x["d"])({default:function(){return{direction:"vertical",slidesPerView:"auto",freeMode:!0,noSwiping:!0,observer:!0,observeParents:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,snapOnRelease:!1,hide:!0},mousewheel:!0}}})],L.prototype,"options",void 0),Object(k["a"])([Object(x["d"])({default:""})],L.prototype,"scrollerClass",void 0),L=Object(k["a"])([x["a"]],L);var I=L,J=(n("841c"),n("2638")),W=n.n(J),q=(n("f7c0"),function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return n}(v)),z=function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.enterSearch=!1,e.searchValue="",e.searchAdvice={showKeyword:"",realkeyword:""},e}return Object(o["a"])(n,[{key:"initSearchAdvice",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.searchAdvice();case 2:t=e.sent,this.searchAdvice=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initSearch",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new q,t.keywords=this.searchValue||this.searchAdvice.realkeyword,e.next=4,O.search(t);case 4:e.sent;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSearchValueChange",value:function(){this.searchValue||this.initSearchAdvice()}},{key:"onLeave",value:function(){this.enterSearch=!1,console.log(this.inputDom),this.inputDom.blur()}},{key:"created",value:function(){this.initSearchAdvice()}},{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{class:"search-component",attrs:{"data-status":this.enterSearch?"enter":"leave"}},[t("v-touch",{attrs:{tag:"i"},class:"icon-search",on:{tap:function(){e.initSearch()}}}),t("input",W()([{on:{input:function(t){t.target.composing||(e.searchValue=t.target.value)},focus:function(){e.enterSearch=!0},keydown:S["modifiers"].enter(this.initSearch)},ref:"input-dom",attrs:{type:"text",placeholder:this.searchAdvice.showKeyword},domProps:{value:e.searchValue}},{directives:[{name:"model",value:e.searchValue,modifiers:{}}]}])),t("transition",{attrs:{name:"fade"}},[t("v-touch",{attrs:{tag:"span"},on:{tap:function(){e.onLeave()}},directives:[{name:"show",value:this.enterSearch}],class:"btn-leave"},["取消"])])])}}]),n}(S["Component"]);Object(k["a"])([Object(x["e"])("input-dom")],z.prototype,"inputDom",void 0),Object(k["a"])([Object(x["f"])("searchValue")],z.prototype,"onSearchValueChange",null),z=Object(k["a"])([x["a"]],z);var B=z,F=(n("6c7d"),function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"render",value:function(){var e=arguments[0];return e("div",{class:"header-component"},[e(B)])}}]),n}(S["Component"]));F=Object(k["a"])([x["a"]],F);var K=F,G=(n("c740"),n("a630"),n("a9e3"),n("3ca3"),n("a11d"),function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"toggleIndex",value:function(e){this.active}},{key:"render",value:function(){var e=this,t=arguments[0];return t("ul",{class:"tabs-wrapper"},[Array.from({length:this.length}).map((function(n,r){return t("v-touch",{key:r,attrs:{tag:"li"},class:["tabs-item",e.active==r?"active":""],on:{tap:function(){e.toggleIndex(r)}}},[e.$scopedSlots.default({i:r,isActive:e.active==r})])}))])}}]),n}(S["Component"]));Object(k["a"])([Object(x["c"])("change",{type:Number})],G.prototype,"active",void 0),Object(k["a"])([Object(x["d"])({default:0})],G.prototype,"length",void 0),Object(k["a"])([Object(x["b"])("change")],G.prototype,"toggleIndex",null),G=Object(k["a"])([x["a"]],G);var Q=G,U=(n("1d71"),function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.list=[{key:P.Home,value:"发现"},{key:P.Mine,value:"我的"}],e}return Object(o["a"])(n,[{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{class:"footer-component"},[t(Q,{class:"footer-navs",attrs:{length:this.list.length},scopedSlots:{default:function(n){var r=n.i,a=n.isActive;return t("div",{class:"footer-nav-item"},[t("div",{class:"icon-box-container"},[t("transition",{attrs:{name:"scale"}},[t("div",{key:a?"on":"off",class:"icon-box",attrs:{"data-status":a?"on":"off"}},[t("i",{class:"icon-"+e.list[r].key})])])]),t("span",[" ",e.list[r].value])])}},model:{value:e.active,callback:function(t){e.active=t}}})])}},{key:"active",get:function(){var e=this,t=this.list.findIndex((function(t){return t.key==e.$route.name}));return~t?t:0},set:function(e){this.$router.replace({name:this.list[e].key})}}]),n}(S["Component"]));U=Object(k["a"])([x["a"]],U);var X=U,Y=(n("a1a3"),function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{attrs:{id:"app"}},[t("div",{ref:"pages-box",attrs:{id:"pages-box"}},[t(I,{ref:"pageScroll",class:"pages-scroll-view",scopedSlots:{default:function(){return t("transition",{attrs:{name:e.$state.transitions.pages}},[t("div",{ref:"page-box-container",class:"page-box-container",key:e.$route.name},[t("router-view")])])}}})]),t("div",{attrs:{id:"fixed-box"}},[t(K),t(X),t(V["PortalTarget"],{attrs:{name:"fixed",multiple:!0}})])])}}]),n}(S["Component"]));Y=Object(k["a"])([x["a"]],Y);var Z=Y,ee=n("ca95"),te=n.n(ee);r["default"].config.productionTip=!1,r["default"].use(te.a,{name:"v-touch"}),new r["default"]({router:R,render:function(e){return e(Z)}}).$mount("#app")},f57e:function(e,t,n){},f7c0:function(e,t,n){}});
//# sourceMappingURL=app-legacy.2a99a3d7.js.map