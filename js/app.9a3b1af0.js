(function(e){function t(t){for(var i,r,a=t[0],c=t[1],l=t[2],d=0,u=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);h&&h(t);while(u.length)u.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],i=!0,a=1;a<s.length;a++){var c=s[a];0!==n[c]&&(i=!1)}i&&(o.splice(t--,1),e=r(r.s=s[0]))}return e}var i={},n={app:0},o=[];function r(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=i,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var h=c;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("cd49")},"1d71":function(e,t,s){},"39b3":function(e,t,s){},"6c7d":function(e,t,s){},"7a06":function(e,t,s){},a11d:function(e,t,s){},a1a3:function(e,t,s){},cd49:function(e,t,s){"use strict";s.r(t);s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e");const n={transitions:{pages:"fade"}};i["default"].prototype.$state=i["default"].observable(n);class o{constructor(){this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}emit(e,...t){if(!this.events[e])return this;const s=this.events[e];return s.map(e=>e).forEach(e=>e.apply(this,t)),this}off(e,t){if(!this.events[e])return this;if(!t)return this.events[e]=null,this;const s=this.events[e].indexOf(t);return this.events[e].splice(s,1),this}once(e,t){const s=(...i)=>{t.apply(this,i),this.off(e,s)};return this.on(e,s),this}}var r,a=s("bc3a"),c=s.n(a);c.a.defaults.withCredentials=!0;class l{}class h extends o{constructor(e,t){super(),this.timeout=6e4,this.url=e,this.timeout=t||this.timeout,c.a.defaults.timeout=this.timeout}send(e,t,i){return console.log(`ajax Request: ${e} `+JSON.stringify(t)),new Promise(async(n,o)=>{let r=null,a=null;const l=c.a.post(this.url+"/"+e+"?"+s("4328").stringify({timestamp:+new Date}),t);l.catch(t=>{console.error(t.message),r={command:e,err:t},this.emit("http-error",r),i&&i(r,a),o(r)}),a=(await l).data,console.log(`ajax Response: ${e} `+JSON.stringify(a)),200==a.code?(i&&i(r,a),n(a)):(r={command:e,err:a},this.emit("res-error",r),i&&i(r,null),o(r))})}}(function(e){e["SearchAdvice"]="search/default",e["Search"]="search"})(r||(r={}));class d extends h{searchAdvice(e){return this.send(r.SearchAdvice,new l,e)}search(e,t){return this.send(r.Search,e,t)}}var u=s("72c2");class p{constructor(){this.eventsList={onChangeVisibility:[]},this.lastTouchEnd=0,this.isWinPlatForm=/^Win\w+/.test(navigator.platform),this.innerHeightStore=innerHeight,this.browser=(()=>{const e=navigator.userAgent,t={chrome:e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1,safari:e.indexOf("Safari")>-1&&-1==e.indexOf("Chrome"),firefox:e.indexOf("Firefox")>-1,ie:!!window.ActiveXObject||"ActiveXObject"in window,edge:e.indexOf("Edge")>-1,opera:e.indexOf("Opera")>-1,qq:e.indexOf("qqbrowse")>-1,360:((e,t)=>{const s=navigator.mimeTypes;for(const i in s)if(s[i][e]==t)return!0;return!1})("type","application/vnd.chromium.remoting-viewer")};return u["a"].mobile()&&u["a"].ios()&&(t.chrome=/C\w+OS\//.test(e),t.firefox=/F\w+OS\//.test(e),t.safari=!t.chrome&&!t.firefox),t})(),this.onResize(),this.initEvents()}get visibility(){let e,t;return"undefined"!==typeof document.hidden?(e="hidden",t="visibilitychange"):"undefined"!==typeof document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),{visibilityChange:t,hidden:e}}onTouchFullScreen(){const e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()}stopMultiFinger(e){e.touches.length>1&&e.preventDefault()}stopDoubleClick(e){const t=+new Date;t-this.lastTouchEnd<=300&&e.preventDefault(),this.lastTouchEnd=t}initEvents(e){const t=e?(e,t,s,i)=>{e.removeEventListener(t,s,i)}:(e,t,s,i)=>{e.addEventListener(t,s,i)};t(window,"touchstart",this,{passive:!1}),t(window,"touchend",this),t(window,"touchcancel",this),t(window,"resize",this),t(window,"orientationchange",this),t(window,"gesturestart",this),t(window,"dblclick",this),t(document,this.visibility.visibilityChange,this)}checkRootElementScroll(e){"portrait"==e&&setTimeout(()=>{document.documentElement.scrollTop=0},300)}checkPushNavBar(e,t){const s=document.body.clientHeight,i=screen.width,n=this.browser.chrome?-20:0,o="landscape"==e?t<i+n:t==s;if("landscape"==e){const e=document.body;o?(e.style.pointerEvents="none",e.style.height="200vw",window.scrollTo(0,0)):(e.style.pointerEvents="",e.style.height="")}}doResize(){const e=u["a"].landscape()?"landscape":"portrait",t=this.innerHeightStore=innerHeight;console.log("New orientation is "+e),u["a"].mobile()&&u["a"].ios()&&u["a"].iphone()&&!this.isWinPlatForm&&(this.checkRootElementScroll(e),this.checkPushNavBar(e,t))}onResize(){if(this.doResize(),u["a"].desktop())return;const e=+new Date,t=()=>{const s=+new Date-e>500;s||innerHeight==this.innerHeightStore||(this.doResize(),requestAnimationFrame(t))};t()}handleEvent(e){switch(e.type){case"touchstart":this.stopMultiFinger(e);break;case"touchend":case"touchcancel":if(this.isWinPlatForm)return;u["a"].mobile()&&u["a"].android()&&this.onTouchFullScreen(),u["a"].mobile()&&u["a"].ios()&&this.stopDoubleClick(e);break;case"resize":case"orientationchange":this.onResize();break;case"gesturestart":case"dblclick":e.preventDefault();break;case this.visibility.visibilityChange:this.eventsList.onChangeVisibility.forEach(e=>e(document[this.visibility.hidden]?"hidden":"visible"));break}}onChangeVisibility(e){this.eventsList.onChangeVisibility.push(e)}}const f=new d("http://66.11.117.120:3000"),v=new o,m=new p;u["a"];s("b429"),s("f5df1"),s("a7a3"),s("f57e");var b=s("8c4f"),w=s("9ab4"),g=s("48d3"),y=s("60a3");s("7a06");let S=class extends g["Component"]{render(){const e=arguments[0];return e("div",{class:"page-home"},["home"])}};S=Object(w["a"])([y["a"]],S);var O=S;let x=class extends g["Component"]{render(){const e=arguments[0];return e("div",{class:"page-mine"},["mine"])}};x=Object(w["a"])([y["a"]],x);var j,k=x;(function(e){e["Home"]="home",e["Mine"]="mine"})(j||(j={})),i["default"].use(b["a"]);const C=[{path:"/"+j.Home,name:j.Home,component:O},{path:"/"+j.Mine,name:j.Mine,component:k},{path:"*",redirect:{name:j.Home}}],T=new b["a"]({mode:"hash",base:"",routes:C});var E=T,H=s("2b88"),A=(s("2532"),s("5319"),s("ddb0"),s("5530")),P=s("7212"),R=s("6dd8");s("39b3");let z=class extends g["Component"]{get swiperScroll(){return this.$refs.mySwiper.$swiper}mounted(){this.initClickHandel(),setTimeout(()=>{this.updateScroll(),this.observeResize()})}observeResize(){const e=[this.$el,this.$el.querySelector(".swiper-slide")],t=new R["a"](t=>{for(const s of t)e.includes(s.target)&&this.updateScroll()});e.forEach(e=>t.observe(e))}initClickHandel(){this.swiperScroll.el.addEventListener("click",()=>{this.stopScroll()})}addNoSwipingToTextNode(e){const t=e.childNodes;t.forEach(e=>{if(1==e.nodeType)this.addNoSwipingToTextNode(e);else if(3==e.nodeType&&e.nodeValue.replace(/(^\s*)|(\s*$)/g,"")){const t=e.parentNode;t.classList.remove("swiper-no-swiping"),t.classList.add("swiper-no-swiping")}})}updateScroll(){this.swiperScroll.update(),this.swiperScroll.scrollbar&&this.swiperScroll.scrollbar.updateSize()}stopScroll(){const e=this.swiperScroll;this.scrollTo(e.getTranslate(),0)}scrollTo(e,t){const s=this.swiperScroll;s.touchEventsData.allowMomentumBounce=!1,s.transitionEnd(),s.setTransition(t),s.setTranslate(e)}render(){const e=arguments[0];return e(P["Swiper"],{ref:"mySwiper",class:"scroll-container",attrs:{options:Object(A["a"])(Object(A["a"])({},this.options),{},{scrollbar:Object(A["a"])(Object(A["a"])({},this.options.scrollbar),{},{el:this.options.scrollbar.el+"-"+this._uid})})}},[e(P["SwiperSlide"],{ref:"scroller",class:this.scrollerClass},[this.$scopedSlots.default()]),e("div",{class:["swiper-scrollbar",(this.options.scrollbar.el+"-"+this._uid).replace(".","").replace("#","")],slot:"scrollbar"})])}};Object(w["a"])([Object(y["d"])({default:()=>({direction:"vertical",slidesPerView:"auto",freeMode:!0,noSwiping:!0,observer:!0,observeParents:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,snapOnRelease:!1,hide:!0},mousewheel:!0})})],z.prototype,"options",void 0),Object(w["a"])([Object(y["d"])({default:""})],z.prototype,"scrollerClass",void 0),z=Object(w["a"])([y["a"]],z);var F=z,V=(s("841c"),s("2638")),$=s.n(V);s("f7c0");class q extends l{}let D=class extends g["Component"]{constructor(){super(...arguments),this.enterSearch=!1,this.searchValue="",this.searchAdvice={showKeyword:"",realkeyword:""}}async initSearchAdvice(){const e=await f.searchAdvice();this.searchAdvice=e.data}async initSearch(){let e=new q;e.keywords=this.searchValue||this.searchAdvice.realkeyword;await f.search(e)}onSearchValueChange(){this.searchValue||this.initSearchAdvice()}onLeave(){this.enterSearch=!1,console.log(this.inputDom),this.inputDom.blur()}created(){this.initSearchAdvice()}render(){const e=arguments[0];return e("div",{class:"search-component",attrs:{"data-status":this.enterSearch?"enter":"leave"}},[e("v-touch",{attrs:{tag:"i"},class:"icon-search",on:{tap:()=>{this.initSearch()}}}),e("input",$()([{on:{input:e=>{e.target.composing||(this.searchValue=e.target.value)},focus:()=>{this.enterSearch=!0},keydown:g["modifiers"].enter(this.initSearch)},ref:"input-dom",attrs:{type:"text",placeholder:this.searchAdvice.showKeyword},domProps:{value:this.searchValue}},{directives:[{name:"model",value:this.searchValue,modifiers:{}}]}])),e("transition",{attrs:{name:"fade"}},[e("v-touch",{attrs:{tag:"span"},on:{tap:()=>{this.onLeave()}},directives:[{name:"show",value:this.enterSearch}],class:"btn-leave"},["取消"])])])}};Object(w["a"])([Object(y["e"])("input-dom")],D.prototype,"inputDom",void 0),Object(w["a"])([Object(y["f"])("searchValue")],D.prototype,"onSearchValueChange",null),D=Object(w["a"])([y["a"]],D);var M=D;s("6c7d");let N=class extends g["Component"]{render(){const e=arguments[0];return e("div",{class:"header-component"},[e(M)])}};N=Object(w["a"])([y["a"]],N);var L=N;s("a11d");let _=class extends g["Component"]{toggleIndex(e){this.active}render(){const e=arguments[0];return e("ul",{class:"tabs-wrapper"},[Array.from({length:this.length}).map((t,s)=>e("v-touch",{key:s,attrs:{tag:"li"},class:["tabs-item",this.active==s?"active":""],on:{tap:()=>{this.toggleIndex(s)}}},[this.$scopedSlots.default({i:s,isActive:this.active==s})]))])}};Object(w["a"])([Object(y["c"])("change",{type:Number})],_.prototype,"active",void 0),Object(w["a"])([Object(y["d"])({default:0})],_.prototype,"length",void 0),Object(w["a"])([Object(y["b"])("change")],_.prototype,"toggleIndex",null),_=Object(w["a"])([y["a"]],_);var I=_;s("1d71");let J=class extends g["Component"]{constructor(){super(...arguments),this.list=[{key:j.Home,value:"发现"},{key:j.Mine,value:"我的"}]}get active(){const e=this.list.findIndex(e=>e.key==this.$route.name);return~e?e:0}set active(e){this.$router.replace({name:this.list[e].key})}render(){const e=arguments[0];return e("div",{class:"footer-component"},[e(I,{class:"footer-navs",attrs:{length:this.list.length},scopedSlots:{default:({i:t,isActive:s})=>e("div",{class:"footer-nav-item"},[e("div",{class:"icon-box-container"},[e("transition",{attrs:{name:"scale"}},[e("div",{key:s?"on":"off",class:"icon-box",attrs:{"data-status":s?"on":"off"}},[e("i",{class:"icon-"+this.list[t].key})])])]),e("span",[" ",this.list[t].value])])},model:{value:this.active,callback:e=>{this.active=e}}})])}};J=Object(w["a"])([y["a"]],J);var W=J;s("a1a3");let B=class extends g["Component"]{render(){const e=arguments[0];return e("div",{attrs:{id:"app"}},[e("div",{ref:"pages-box",attrs:{id:"pages-box"}},[e(F,{ref:"pageScroll",class:"pages-scroll-view",scopedSlots:{default:()=>e("transition",{attrs:{name:this.$state.transitions.pages}},[e("div",{ref:"page-box-container",class:"page-box-container",key:this.$route.name},[e("router-view")])])}})]),e("div",{attrs:{id:"fixed-box"}},[e(L),e(W),e(H["PortalTarget"],{attrs:{name:"fixed",multiple:!0}})])])}};B=Object(w["a"])([y["a"]],B);var K=B,X=s("ca95"),G=s.n(X);i["default"].config.productionTip=!1,i["default"].use(G.a,{name:"v-touch"}),new i["default"]({router:E,render:e=>e(K)}).$mount("#app")},f57e:function(e,t,s){},f7c0:function(e,t,s){}});
//# sourceMappingURL=app.9a3b1af0.js.map