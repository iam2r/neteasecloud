(function(e){function t(t){for(var r,n,i=t[0],c=t[1],l=t[2],h=0,p=[];h<i.length;h++)n=i[h],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&p.push(a[n][0]),a[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],r=!0,i=1;i<s.length;i++){var c=s[i];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=n(n.s=s[0]))}return e}var r={},a={app:0},o=[];function n(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=r,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("cd49")},"1d71":function(e,t,s){},"39b3":function(e,t,s){},"6c7d":function(e,t,s){},"7a06":function(e,t,s){},a11d:function(e,t,s){},a1a3:function(e,t,s){},cd49:function(e,t,s){"use strict";s.r(t);s("2532"),s("ddb0"),s("e6cf"),s("cca6"),s("a79d"),s("b429"),s("f5df1"),s("a7a3"),s("f57e");var r=s("2b0e");const a={transitions:{pages:"fade"}};r["default"].prototype.$state=r["default"].observable(a);var o=s("8c4f"),n=s("9ab4"),i=s("48d3"),c=s("60a3");s("7a06");let l=class extends i["Component"]{render(){const e=arguments[0];return e("div",{class:"page-home"},["home"])}};l=Object(n["a"])([c["a"]],l);var d=l;let h=class extends i["Component"]{render(){const e=arguments[0];return e("div",{class:"page-mine"},["mine"])}};h=Object(n["a"])([c["a"]],h);var p,u=h;(function(e){e["Home"]="home",e["Mine"]="mine"})(p||(p={})),r["default"].use(o["a"]);const f=[{path:"/"+p.Home,name:p.Home,component:d},{path:"/"+p.Mine,name:p.Mine,component:u},{path:"*",redirect:{name:p.Home}}],v=new o["a"]({mode:"hash",base:"",routes:f});var b=v,m=s("2b88"),g=(s("5319"),s("5530")),w=s("7212"),y=s("6dd8");s("39b3");let S=class extends i["Component"]{get swiperScroll(){return this.$refs.mySwiper.$swiper}mounted(){this.initClickHandel(),setTimeout(()=>{this.updateScroll(),this.observeResize()})}observeResize(){const e=this.$el,t=this.$el.querySelector(".swiper-slide *"),s=[this.$el,this.$el.querySelector(".swiper-slide *")];console.log(e,t);const r=new y["a"](e=>{for(const t of e)s.includes(t.target)&&setTimeout(()=>{console.log("ddddddddddddddddddddddddddddddddd"),this.updateScroll()},500)});s.forEach(e=>r.observe(e))}initClickHandel(){this.swiperScroll.el.addEventListener("click",()=>{this.stopScroll()})}addNoSwipingToTextNode(e){const t=e.childNodes;t.forEach(e=>{if(1==e.nodeType)this.addNoSwipingToTextNode(e);else if(3==e.nodeType&&e.nodeValue.replace(/(^\s*)|(\s*$)/g,"")){const t=e.parentNode;t.classList.remove("swiper-no-swiping"),t.classList.add("swiper-no-swiping")}})}updateScroll(){this.swiperScroll.update(),this.swiperScroll.scrollbar&&this.swiperScroll.scrollbar.updateSize()}stopScroll(){const e=this.swiperScroll;this.scrollTo(e.getTranslate(),0)}scrollTo(e,t){const s=this.swiperScroll;s.touchEventsData.allowMomentumBounce=!1,s.transitionEnd(),s.setTransition(t),s.setTranslate(e)}render(){const e=arguments[0];return e(w["Swiper"],{ref:"mySwiper",class:"scroll-container",attrs:{options:Object(g["a"])(Object(g["a"])({},this.options),{},{scrollbar:Object(g["a"])(Object(g["a"])({},this.options.scrollbar),{},{el:this.options.scrollbar.el+"-"+this._uid})})}},[e(w["SwiperSlide"],{ref:"scroller",class:this.scrollerClass},[this.$scopedSlots.default()]),e("div",{class:["swiper-scrollbar",(this.options.scrollbar.el+"-"+this._uid).replace(".","").replace("#","")],slot:"scrollbar"})])}};Object(n["a"])([Object(c["d"])({default:()=>({direction:"vertical",slidesPerView:"auto",freeMode:!0,noSwiping:!0,observer:!0,observeParents:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,snapOnRelease:!1,hide:!0},mousewheel:!0})})],S.prototype,"options",void 0),Object(n["a"])([Object(c["d"])({default:""})],S.prototype,"scrollerClass",void 0),S=Object(n["a"])([c["a"]],S);var O=S,j=(s("841c"),s("2638")),x=s.n(j);class k{constructor(){this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}emit(e,...t){if(!this.events[e])return this;const s=this.events[e];return s.map(e=>e).forEach(e=>e.apply(this,t)),this}off(e,t){if(!this.events[e])return this;if(!t)return this.events[e]=null,this;const s=this.events[e].indexOf(t);return this.events[e].splice(s,1),this}once(e,t){const s=(...r)=>{t.apply(this,r),this.off(e,s)};return this.on(e,s),this}}var C,T=s("bc3a"),$=s.n(T);$.a.defaults.withCredentials=!0;class A{}class P extends k{constructor(e,t){super(),this.timeout=6e4,this.url=e,this.timeout=t||this.timeout,$.a.defaults.timeout=this.timeout}send(e,t,r){return console.log(`ajax Request: ${e} `+JSON.stringify(t)),new Promise(async(a,o)=>{let n=null,i=null;const c=$.a.post(this.url+"/"+e+"?"+s("4328").stringify({timestamp:+new Date}),t);c.catch(t=>{console.error(t.message),n={command:e,err:t},this.emit("http-error",n),r&&r(n,i),o(n)}),i=(await c).data,console.log(`ajax Response: ${e} `+JSON.stringify(i)),200==i.code?(r&&r(n,i),a(i)):(n={command:e,err:i},this.emit("res-error",n),r&&r(n,null),o(n))})}}(function(e){e["SearchAdvice"]="search/default",e["Search"]="search"})(C||(C={}));class E extends P{searchAdvice(e){return this.send(C.SearchAdvice,new A,e)}search(e,t){return this.send(C.Search,e,t)}}const V=new E("http://66.11.117.120:3000");new k;s("f7c0");class M extends A{}let N=class extends i["Component"]{constructor(){super(...arguments),this.enterSearch=!1,this.searchValue="",this.searchAdvice={showKeyword:"",realkeyword:""}}async initSearchAdvice(){const e=await V.searchAdvice();this.searchAdvice=e.data}async initSearch(){let e=new M;e.keywords=this.searchValue||this.searchAdvice.realkeyword;await V.search(e)}onSearchValueChange(){this.searchValue||this.initSearchAdvice()}onLeave(){this.enterSearch=!1,console.log(this.inputDom),this.inputDom.blur()}created(){this.initSearchAdvice()}render(){const e=arguments[0];return e("div",{class:"search-component",attrs:{"data-status":this.enterSearch?"enter":"leave"}},[e("v-touch",{attrs:{tag:"i"},class:"icon-search",on:{tap:()=>{this.initSearch()}}}),e("input",x()([{on:{input:e=>{e.target.composing||(this.searchValue=e.target.value)},focus:()=>{this.enterSearch=!0},keydown:i["modifiers"].enter(this.initSearch)},ref:"input-dom",attrs:{type:"text",placeholder:this.searchAdvice.showKeyword},domProps:{value:this.searchValue}},{directives:[{name:"model",value:this.searchValue,modifiers:{}}]}])),e("transition",{attrs:{name:"fade"}},[e("v-touch",{attrs:{tag:"span"},on:{tap:()=>{this.onLeave()}},directives:[{name:"show",value:this.enterSearch}],class:"btn-leave"},["取消"])])])}};Object(n["a"])([Object(c["e"])("input-dom")],N.prototype,"inputDom",void 0),Object(n["a"])([Object(c["f"])("searchValue")],N.prototype,"onSearchValueChange",null),N=Object(n["a"])([c["a"]],N);var H=N;s("6c7d");let _=class extends i["Component"]{render(){const e=arguments[0];return e("div",{class:"header-component"},[e(H)])}};_=Object(n["a"])([c["a"]],_);var R=_;s("a11d");let B=class extends i["Component"]{toggleIndex(e){this.active}render(){const e=arguments[0];return e("ul",{class:"tabs-wrapper"},[Array.from({length:this.length}).map((t,s)=>e("v-touch",{key:s,attrs:{tag:"li"},class:["tabs-item",this.active==s?"active":""],on:{tap:()=>{this.toggleIndex(s)}}},[this.$scopedSlots.default({i:s,isActive:this.active==s})]))])}};Object(n["a"])([Object(c["c"])("change",{type:Number})],B.prototype,"active",void 0),Object(n["a"])([Object(c["d"])({default:0})],B.prototype,"length",void 0),Object(n["a"])([Object(c["b"])("change")],B.prototype,"toggleIndex",null),B=Object(n["a"])([c["a"]],B);var D=B;s("1d71");let L=class extends i["Component"]{constructor(){super(...arguments),this.list=[{key:p.Home,value:"发现"},{key:p.Mine,value:"我的"}]}get active(){const e=this.list.findIndex(e=>e.key==this.$route.name);return~e?e:0}set active(e){this.$router.replace({name:this.list[e].key})}render(){const e=arguments[0];return e("div",{class:"footer-component"},[e(D,{class:"footer-navs",attrs:{length:this.list.length},scopedSlots:{default:({i:t,isActive:s})=>e("div",{class:"footer-nav-item"},[e("div",{class:"icon-box-container"},[e("transition",{attrs:{name:"scale"}},[e("div",{key:s?"on":"off",class:"icon-box",attrs:{"data-status":s?"on":"off"}},[e("i",{class:"icon-"+this.list[t].key})])])]),e("span",[" ",this.list[t].value])])},model:{value:this.active,callback:e=>{this.active=e}}})])}};L=Object(n["a"])([c["a"]],L);var q=L;s("a1a3");let z=class extends i["Component"]{get pageScrollEffect(){return[this.pagesBox,this.pageBoxContainer]}observePageResize(){const e=this.pageScrollEffect,t=new y["a"](t=>{for(const s of t)e.includes(s.target)&&this.pageScroll.updateScroll()});this.pageScrollEffect.forEach(e=>t.observe(e))}mounted(){}render(){const e=arguments[0];return e("div",{attrs:{id:"app"}},[e("div",{ref:"pages-box",attrs:{id:"pages-box"}},[e(O,{ref:"pageScroll",class:"pages-scroll-view",scopedSlots:{default:()=>e("transition",{attrs:{name:this.$state.transitions.pages}},[e("div",{ref:"page-box-container",class:"page-box-container",key:this.$route.name},[e("router-view")])])}})]),e("div",{attrs:{id:"fixed-box"}},[e(R),e(q),e(m["PortalTarget"],{attrs:{name:"fixed",multiple:!0}})])])}};Object(n["a"])([Object(c["e"])("pages-box")],z.prototype,"pagesBox",void 0),Object(n["a"])([Object(c["e"])("page-box-container")],z.prototype,"pageBoxContainer",void 0),Object(n["a"])([Object(c["e"])()],z.prototype,"pageScroll",void 0),z=Object(n["a"])([c["a"]],z);var I=z,J=s("ca95"),K=s.n(J);const W=[document.body],F=new y["a"](e=>{for(const t of e)W.includes(t.target)&&document.querySelector("html").setAttribute("data-screen",innerWidth>innerHeight?"landscape":"portrait")});W.forEach(e=>F.observe(e)),r["default"].config.productionTip=!1,r["default"].use(K.a,{name:"v-touch"}),new r["default"]({router:b,render:e=>e(I)}).$mount("#app")},f57e:function(e,t,s){},f7c0:function(e,t,s){}});
//# sourceMappingURL=app.46e6cc09.js.map