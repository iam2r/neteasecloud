(function(e){function t(t){for(var i,o,c=t[0],s=t[1],u=t[2],h=0,d=[];h<c.length;h++)o=c[h],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={app:0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"1d71":function(e,t,n){},"39b3":function(e,t,n){},"6c7d":function(e,t,n){},"7a06":function(e,t,n){},a11d:function(e,t,n){},a1a3:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r={transitions:{pages:"fade"}},a=(i["default"].prototype.$state=i["default"].observable(r),n("d4ec")),o=n("bee2"),c=n("262e"),s=n("2caf"),u=(n("d3b7"),n("96cf"),n("1da1")),l=(n("4160"),n("c975"),n("d81d"),n("a434"),n("159b"),function(){function e(){Object(a["a"])(this,e),this.events={}}return Object(o["a"])(e,[{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(!this.events[e])return this;var a=this.events[e];return a.map((function(e){return e})).forEach((function(e){return e.apply(t,i)})),this}},{key:"off",value:function(e,t){if(!this.events[e])return this;if(!t)return this.events[e]=null,this;var n=this.events[e].indexOf(t);return this.events[e].splice(n,1),this}},{key:"once",value:function(e,t){var n=this,i=function i(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];t.apply(n,a),n.off(e,i)};return this.on(e,i),this}}]),e}()),h=n("bc3a"),d=n.n(h);d.a.defaults.withCredentials=!0;var f,v=function e(){Object(a["a"])(this,e)},p=function(e){Object(c["a"])(i,e);var t=Object(s["a"])(i);function i(e,n){var r;return Object(a["a"])(this,i),r=t.call(this),r.timeout=6e4,r.url=e,r.timeout=n||r.timeout,d.a.defaults.timeout=r.timeout,r}return Object(o["a"])(i,[{key:"send",value:function(e,t,i){var r=this;return console.log("ajax Request: ".concat(e," ")+JSON.stringify(t)),new Promise(function(){var a=Object(u["a"])(regeneratorRuntime.mark((function a(o,c){var s,u,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=null,u=null,l=d.a.post(r.url+"/"+e+"?"+n("4328").stringify({timestamp:+new Date}),t),l.catch((function(t){console.error(t.message),s={command:e,err:t},r.emit("http-error",s),i&&i(s,u),c(s)})),a.next=5,l;case 5:u=a.sent.data,console.log("ajax Response: ".concat(e," ")+JSON.stringify(u)),200==u.code?(i&&i(s,u),o(u)):(s={command:e,err:u},r.emit("res-error",s),i&&i(s,null),c(s));case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}}]),i}(l);(function(e){e["SearchAdvice"]="search/default",e["Search"]="search"})(f||(f={}));var b=function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"searchAdvice",value:function(e){return this.send(f.SearchAdvice,new v,e)}},{key:"search",value:function(e,t){return this.send(f.Search,e,t)}}]),n}(p),m=n("72c2"),y=function(){function e(){Object(a["a"])(this,e),this.eventsList={onChangeVisibility:[]},this.lastTouchEnd=0,this.isWinPlatForm=/^Win\w+/.test(navigator.platform),this.innerHeightStore=innerHeight,this.browser=function(){var e=navigator.userAgent,t={chrome:e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1,safari:e.indexOf("Safari")>-1&&-1==e.indexOf("Chrome"),firefox:e.indexOf("Firefox")>-1,ie:!!window.ActiveXObject||"ActiveXObject"in window,edge:e.indexOf("Edge")>-1,opera:e.indexOf("Opera")>-1,qq:e.indexOf("qqbrowse")>-1,360:function(e,t){var n=navigator.mimeTypes;for(var i in n)if(n[i][e]==t)return!0;return!1}("type","application/vnd.chromium.remoting-viewer")};return m["a"].mobile()&&m["a"].ios()&&(t.chrome=/C\w+OS\//.test(e),t.firefox=/F\w+OS\//.test(e),t.safari=!t.chrome&&!t.firefox),t}(),this.onResize(),this.initEvents()}return Object(o["a"])(e,[{key:"onTouchFullScreen",value:function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()}},{key:"stopMultiFinger",value:function(e){e.touches.length>1&&e.preventDefault()}},{key:"stopDoubleClick",value:function(e){var t=+new Date;t-this.lastTouchEnd<=300&&e.preventDefault(),this.lastTouchEnd=t}},{key:"initEvents",value:function(e){var t=e?function(e,t,n,i){e.removeEventListener(t,n,i)}:function(e,t,n,i){e.addEventListener(t,n,i)};t(window,"touchstart",this,{passive:!1}),t(window,"touchend",this),t(window,"touchcancel",this),t(window,"resize",this),t(window,"orientationchange",this),t(window,"gesturestart",this),t(window,"dblclick",this),t(document,this.visibility.visibilityChange,this)}},{key:"checkRootElementScroll",value:function(e){"portrait"==e&&setTimeout((function(){document.documentElement.scrollTop=0}),300)}},{key:"checkPushNavBar",value:function(e,t){var n=document.body.clientHeight,i=screen.width,r=this.browser.chrome?-20:0,a="landscape"==e?t<i+r:t==n;if("landscape"==e){var o=document.body;a?(o.style.pointerEvents="none",o.style.height="200vw",window.scrollTo(0,0)):(o.style.pointerEvents="",o.style.height="")}}},{key:"doResize",value:function(){var e=m["a"].landscape()?"landscape":"portrait",t=this.innerHeightStore=innerHeight;console.log("New orientation is ".concat(e)),m["a"].mobile()&&m["a"].ios()&&m["a"].iphone()&&!this.isWinPlatForm&&(this.checkRootElementScroll(e),this.checkPushNavBar(e,t))}},{key:"onResize",value:function(){var e=this;if(this.doResize(),!m["a"].desktop()){var t=+new Date,n=function n(){var i=+new Date-t>500;i&&innerHeight==e.innerHeightStore||(e.doResize(),requestAnimationFrame(n))};n()}}},{key:"handleEvent",value:function(e){var t=this;switch(e.type){case"touchstart":this.stopMultiFinger(e);break;case"touchend":case"touchcancel":if(this.isWinPlatForm)return;m["a"].mobile()&&m["a"].android()&&this.onTouchFullScreen(),m["a"].mobile()&&m["a"].ios()&&this.stopDoubleClick(e);break;case"resize":case"orientationchange":this.onResize();break;case"gesturestart":case"dblclick":e.preventDefault();break;case this.visibility.visibilityChange:this.eventsList.onChangeVisibility.forEach((function(e){return e(document[t.visibility.hidden]?"hidden":"visible")}));break}}},{key:"onChangeVisibility",value:function(e){this.eventsList.onChangeVisibility.push(e)}},{key:"visibility",get:function(){var e,t;return"undefined"!==typeof document.hidden?(e="hidden",t="visibilitychange"):"undefined"!==typeof document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),{visibilityChange:t,hidden:e}}}]),e}(),w=new b("http://66.11.117.120:3000"),g=new l,O=new y,j=(m["a"],n("b429"),n("f5df1"),n("a7a3"),n("f57e"),n("8c4f")),k=n("9ab4"),S=n("48d3"),x=n("60a3"),C=(n("7a06"),function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"render",value:function(){var e=arguments[0];return e("div",{class:"page-home"},["home"])}}]),n}(S["Component"]));C=Object(k["a"])([x["a"]],C);var T=C,R=function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"render",value:function(){var e=arguments[0];return e("div",{class:"page-mine"},["mine"])}}]),n}(S["Component"]);R=Object(k["a"])([x["a"]],R);var E,A=R;(function(e){e["Home"]="home",e["Mine"]="mine"})(E||(E={})),i["default"].use(j["a"]);var H=[{path:"/"+E.Home,name:E.Home,component:T},{path:"/"+E.Mine,name:E.Mine,component:A},{path:"*",redirect:{name:E.Home}}],P=new j["a"]({mode:"hash",base:"",routes:H}),z=P,F=(n("b0c0"),n("2b88")),V=(n("caad"),n("ac1f"),n("2532"),n("5319"),n("5530")),q=n("b85c"),D=n("7212"),$=n("6dd8"),M=(n("39b3"),function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"mounted",value:function(){var e=this;this.initClickHandel(),setTimeout((function(){e.updateScroll(),e.observeResize()}))}},{key:"observeResize",value:function(){var e=this,t=[this.$el,this.$el.querySelector(".swiper-slide")],n=new $["a"]((function(n){var i,r=Object(q["a"])(n);try{for(r.s();!(i=r.n()).done;){var a=i.value;t.includes(a.target)&&e.updateScroll()}}catch(o){r.e(o)}finally{r.f()}}));t.forEach((function(e){return n.observe(e)}))}},{key:"initClickHandel",value:function(){var e=this;this.swiperScroll.el.addEventListener("click",(function(){e.stopScroll()}))}},{key:"addNoSwipingToTextNode",value:function(e){var t=this,n=e.childNodes;n.forEach((function(e){if(1==e.nodeType)t.addNoSwipingToTextNode(e);else if(3==e.nodeType&&e.nodeValue.replace(/(^\s*)|(\s*$)/g,"")){var n=e.parentNode;n.classList.remove("swiper-no-swiping"),n.classList.add("swiper-no-swiping")}}))}},{key:"updateScroll",value:function(){this.swiperScroll.update(),this.swiperScroll.scrollbar&&this.swiperScroll.scrollbar.updateSize()}},{key:"stopScroll",value:function(){var e=this.swiperScroll;this.scrollTo(e.getTranslate(),0)}},{key:"scrollTo",value:function(e,t){var n=this.swiperScroll;n.touchEventsData.allowMomentumBounce=!1,n.transitionEnd(),n.setTransition(t),n.setTranslate(e)}},{key:"render",value:function(){var e=arguments[0];return e(D["Swiper"],{ref:"mySwiper",class:"scroll-container",attrs:{options:Object(V["a"])(Object(V["a"])({},this.options),{},{scrollbar:Object(V["a"])(Object(V["a"])({},this.options.scrollbar),{},{el:this.options.scrollbar.el+"-"+this._uid})})}},[e(D["SwiperSlide"],{ref:"scroller",class:this.scrollerClass},[this.$scopedSlots.default()]),e("div",{class:["swiper-scrollbar",(this.options.scrollbar.el+"-"+this._uid).replace(".","").replace("#","")],slot:"scrollbar"})])}},{key:"swiperScroll",get:function(){return this.$refs.mySwiper.$swiper}}]),n}(S["Component"]));Object(k["a"])([Object(x["d"])({default:function(){return{direction:"vertical",slidesPerView:"auto",freeMode:!0,noSwiping:!0,observer:!0,observeParents:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,snapOnRelease:!1,hide:!0},mousewheel:!0}}})],M.prototype,"options",void 0),Object(k["a"])([Object(x["d"])({default:""})],M.prototype,"scrollerClass",void 0),M=Object(k["a"])([x["a"]],M);var N=M,L=(n("841c"),n("2638")),_=n.n(L),I=(n("f7c0"),function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return n}(v)),J=function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(a["a"])(this,n),e=t.apply(this,arguments),e.enterSearch=!1,e.searchValue="",e.searchAdvice={showKeyword:"",realkeyword:""},e}return Object(o["a"])(n,[{key:"initSearchAdvice",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w.searchAdvice();case 2:t=e.sent,this.searchAdvice=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initSearch",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new I,t.keywords=this.searchValue||this.searchAdvice.realkeyword,e.next=4,w.search(t);case 4:e.sent;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSearchValueChange",value:function(){this.searchValue||this.initSearchAdvice()}},{key:"onLeave",value:function(){this.enterSearch=!1,console.log(this.inputDom),this.inputDom.blur()}},{key:"created",value:function(){this.initSearchAdvice()}},{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{class:"search-component",attrs:{"data-status":this.enterSearch?"enter":"leave"}},[t("v-touch",{attrs:{tag:"i"},class:"icon-search",on:{tap:function(){e.initSearch()}}}),t("input",_()([{on:{input:function(t){t.target.composing||(e.searchValue=t.target.value)},focus:function(){e.enterSearch=!0},keydown:S["modifiers"].enter(this.initSearch)},ref:"input-dom",attrs:{type:"text",placeholder:this.searchAdvice.showKeyword},domProps:{value:e.searchValue}},{directives:[{name:"model",value:e.searchValue,modifiers:{}}]}])),t("transition",{attrs:{name:"fade"}},[t("v-touch",{attrs:{tag:"span"},on:{tap:function(){e.onLeave()}},directives:[{name:"show",value:this.enterSearch}],class:"btn-leave"},["取消"])])])}}]),n}(S["Component"]);Object(k["a"])([Object(x["e"])("input-dom")],J.prototype,"inputDom",void 0),Object(k["a"])([Object(x["f"])("searchValue")],J.prototype,"onSearchValueChange",null),J=Object(k["a"])([x["a"]],J);var W=J,B=(n("6c7d"),function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"render",value:function(){var e=arguments[0];return e("div",{class:"header-component"},[e(W)])}}]),n}(S["Component"]));B=Object(k["a"])([x["a"]],B);var K=B,X=(n("c740"),n("a630"),n("a9e3"),n("3ca3"),n("a11d"),function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"toggleIndex",value:function(e){this.active}},{key:"render",value:function(){var e=this,t=arguments[0];return t("ul",{class:"tabs-wrapper"},[Array.from({length:this.length}).map((function(n,i){return t("v-touch",{key:i,attrs:{tag:"li"},class:["tabs-item",e.active==i?"active":""],on:{tap:function(){e.toggleIndex(i)}}},[e.$scopedSlots.default({i:i,isActive:e.active==i})])}))])}}]),n}(S["Component"]));Object(k["a"])([Object(x["c"])("change",{type:Number})],X.prototype,"active",void 0),Object(k["a"])([Object(x["d"])({default:0})],X.prototype,"length",void 0),Object(k["a"])([Object(x["b"])("change")],X.prototype,"toggleIndex",null),X=Object(k["a"])([x["a"]],X);var G=X,Q=(n("1d71"),function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(a["a"])(this,n),e=t.apply(this,arguments),e.list=[{key:E.Home,value:"发现"},{key:E.Mine,value:"我的"}],e}return Object(o["a"])(n,[{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{class:"footer-component"},[t(G,{class:"footer-navs",attrs:{length:this.list.length},scopedSlots:{default:function(n){var i=n.i,r=n.isActive;return t("div",{class:"footer-nav-item"},[t("div",{class:"icon-box-container"},[t("transition",{attrs:{name:"scale"}},[t("div",{key:r?"on":"off",class:"icon-box",attrs:{"data-status":r?"on":"off"}},[t("i",{class:"icon-"+e.list[i].key})])])]),t("span",[" ",e.list[i].value])])}},model:{value:e.active,callback:function(t){e.active=t}}})])}},{key:"active",get:function(){var e=this,t=this.list.findIndex((function(t){return t.key==e.$route.name}));return~t?t:0},set:function(e){this.$router.replace({name:this.list[e].key})}}]),n}(S["Component"]));Q=Object(k["a"])([x["a"]],Q);var U=Q,Y=(n("a1a3"),function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(a["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{attrs:{id:"app"}},[t("div",{ref:"pages-box",attrs:{id:"pages-box"}},[t(N,{ref:"pageScroll",class:"pages-scroll-view",scopedSlots:{default:function(){return t("transition",{attrs:{name:e.$state.transitions.pages}},[t("div",{ref:"page-box-container",class:"page-box-container",key:e.$route.name},[t("router-view")])])}}})]),t("div",{attrs:{id:"fixed-box"}},[t(K),t(U),t(F["PortalTarget"],{attrs:{name:"fixed",multiple:!0}})])])}}]),n}(S["Component"]));Y=Object(k["a"])([x["a"]],Y);var Z=Y,ee=n("ca95"),te=n.n(ee);i["default"].config.productionTip=!1,i["default"].use(te.a,{name:"v-touch"}),new i["default"]({router:z,render:function(e){return e(Z)}}).$mount("#app")},f57e:function(e,t,n){},f7c0:function(e,t,n){}});
//# sourceMappingURL=app-legacy.9a09b304.js.map