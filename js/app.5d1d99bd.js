(function(e){function t(t){for(var i,o,r=t[0],c=t[1],l=t[2],u=0,d=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);h&&h(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],i=!0,r=1;r<s.length;r++){var c=s[r];0!==n[c]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=s[0]))}return e}var i={},n={app:0},a=[];function o(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=i,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(s,i,function(t){return e[t]}.bind(null,i));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var h=c;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("cd49")},"1d71":function(e,t,s){},"39b3":function(e,t,s){},"6c7d":function(e,t,s){},"7a06":function(e,t,s){},a11d:function(e,t,s){},a1a3:function(e,t,s){},cd49:function(e,t,s){"use strict";s.r(t);s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e");const n={resizeCount:0,transitions:{pages:"fade"}};var a=i["default"].prototype.$state=i["default"].observable(n);class o{constructor(){this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}emit(e,...t){if(!this.events[e])return this;const s=this.events[e];return s.map(e=>e).forEach(e=>e.apply(this,t)),this}off(e,t){if(!this.events[e])return this;if(!t)return this.events[e]=null,this;const s=this.events[e].indexOf(t);return this.events[e].splice(s,1),this}once(e,t){const s=(...i)=>{t.apply(this,i),this.off(e,s)};return this.on(e,s),this}}var r,c,l=s("bc3a"),h=s.n(l);h.a.defaults.withCredentials=!0;class u{}class d extends o{constructor(e,t){super(),this.timeout=6e4,this.url=e,this.timeout=t||this.timeout,h.a.defaults.timeout=this.timeout}send(e,t,i){return console.log(`ajax Request: ${e} `+JSON.stringify(t)),new Promise(async(n,a)=>{let o=null,r=null;const c=h.a.post(this.url+"/"+e+"?"+s("4328").stringify({timestamp:+new Date}),t);c.catch(t=>{console.error(t.message),o={command:e,err:t},this.emit("http-error",o),i&&i(o,r),a(o)}),r=(await c).data,console.log(`ajax Response: ${e} `+JSON.stringify(r)),200==r.code?(i&&i(o,r),n(r)):(o={command:e,err:r},this.emit("res-error",o),i&&i(o,null),a(o))})}}(function(e){e["SearchAdvice"]="search/default",e["Search"]="search",e["SearchHot"]="search/hot/detail"})(r||(r={}));class p extends d{searchAdvice(e){return this.send(r.SearchAdvice,new u,e)}search(e,t){return this.send(r.Search,e,t)}searchHotDetail(e){return this.send(r.SearchHot,new u,e)}}(function(e){e["quadratic"]="quadratic",e["circular"]="circular",e["back"]="back",e["bounce"]="bounce",e["elastic"]="elastic"})(c||(c={}));const m={[c.quadratic]:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:e=>e*(2-e)},[c.circular]:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:e=>Math.sqrt(1- --e*e)},[c.back]:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:e=>{const t=4;return(e-=1)*e*((t+1)*e+t)+1}},[c.bounce]:{style:"",fn:e=>(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},[c.elastic]:{style:"",fn:e=>{const t=.22,s=.4;return 0===e?0:1==e?1:s*Math.pow(2,-10*e)*Math.sin((e-t/4)*(2*Math.PI)/t)+1}}};class f extends o{constructor(e){super(),this.target=null,this.isAnimating=!1,this.target=e}getNow(){return window.performance&&window.performance.now&&window.performance.timing?window.performance.now()+window.performance.timing.navigationStart:+new Date}setTarget(e){for(const t in this.target)this.target.hasOwnProperty(t)&&(this.target[t]=e(t))}to(e,t,s=c.circular){const i=this.getNow(),n=i+t,a=JSON.parse(JSON.stringify(this.target)),o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},r=()=>{let c=this.getNow();if(c>=n)return this.setTarget(t=>e[t]),this.isAnimating=!1,this.emit("update",this.target),void this.emit("complete",this.target);c=(c-i)/t;const l=m[s].fn(c);this.setTarget(t=>(e[t]-a[t])*l+a[t]),this.emit("update",this.target),this.isAnimating&&o(r)};return this.isAnimating=!0,r(),this}kill(){return this.isAnimating=!1,this}}var g=s("72c2");g["a"].onChangeOrientation;class v extends o{constructor(){super(),this.lastTouchEnd=0,this.isWinPlatForm=/^Win\w+/.test(navigator.platform),this.innerHeightStore=innerHeight,this.browser=(()=>{const e=navigator.userAgent,t={chrome:e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1,safari:e.indexOf("Safari")>-1&&-1==e.indexOf("Chrome"),firefox:e.indexOf("Firefox")>-1,ie:!!window.ActiveXObject||"ActiveXObject"in window,edge:e.indexOf("Edge")>-1,opera:e.indexOf("Opera")>-1,qq:e.indexOf("qqbrowse")>-1,360:((e,t)=>{const s=navigator.mimeTypes;for(const i in s)if(s[i][e]==t)return!0;return!1})("type","application/vnd.chromium.remoting-viewer")};return g["a"].mobile()&&g["a"].ios()&&(t.chrome=/C\w+OS\//.test(e),t.firefox=/F\w+OS\//.test(e),t.safari=!t.chrome&&!t.firefox),t})(),this.on("resize",()=>{this.doResize()}),this.onResize(),this.initEvents()}get visibility(){let e,t;return"undefined"!==typeof document.hidden?(e="hidden",t="visibilitychange"):"undefined"!==typeof document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),{visibilityChange:t,hidden:e}}onTouchFullScreen(){const e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()}stopMultiFinger(e){e.touches.length>1&&e.preventDefault()}stopDoubleClick(e){const t=+new Date;t-this.lastTouchEnd<=300&&e.preventDefault(),this.lastTouchEnd=t}initEvents(e){const t=e?(e,t,s,i)=>{e.removeEventListener(t,s,i)}:(e,t,s,i)=>{e.addEventListener(t,s,i)};t(window,"touchstart",this,{passive:!1}),t(window,"touchend",this),t(window,"touchcancel",this),t(window,"resize",this),t(window,"orientationchange",this),t(window,"gesturestart",this),t(window,"dblclick",this),t(document,this.visibility.visibilityChange,this)}checkRootElementScroll(e){"portrait"==e&&setTimeout(()=>{document.documentElement.scrollTop=0},300)}checkPushNavBar(e,t){const s=document.body.clientHeight,i=screen.width,n=this.browser.chrome?-20:0,a="landscape"==e?t<i+n:t==s,o=document.body;let r=!1;if(a&&"landscape"==e){if(r)return;r=!0,o.style.pointerEvents="none",o.style.height="200vw";const e={y:document.documentElement.scrollTop||document.body.scrollTop};new f(e).on("update",()=>{window.scrollTo(0,e.y)}).to({y:0},200)}else r=!1,o.style.pointerEvents="",o.style.height=""}doResize(){const e=g["a"].landscape()?"landscape":"portrait",t=this.innerHeightStore=innerHeight;console.log(`New orientation is ${e},New height is ${t}`),g["a"].mobile()&&g["a"].ios()&&g["a"].iphone()&&!this.isWinPlatForm&&(this.checkRootElementScroll(e),this.checkPushNavBar(e,t))}onResize(){if(this.emit("resize"),g["a"].desktop())return;const e=+new Date,t=()=>{cancelAnimationFrame(this.innerHeightWatchRaf);const s=+new Date-e>500;if(!s)return innerHeight!=this.innerHeightStore?this.emit("resize"):void(this.innerHeightWatchRaf=requestAnimationFrame(t))};t()}handleEvent(e){switch(e.type){case"touchstart":this.stopMultiFinger(e);break;case"touchend":case"touchcancel":if(this.isWinPlatForm)return;g["a"].mobile()&&g["a"].android()&&this.onTouchFullScreen(),g["a"].mobile()&&g["a"].ios()&&this.stopDoubleClick(e);break;case"resize":case"orientationchange":this.onResize();break;case"gesturestart":case"dblclick":e.preventDefault();break;case this.visibility.visibilityChange:this.emit("visibilitychange",document[this.visibility.hidden]?"hidden":"visible");break}}}const b=new p("http://66.11.117.120:3000"),w=new o,S=new v;S.on("resize",()=>{a.resizeCount++});g["a"];s("b429"),s("f5df1"),s("a7a3"),s("f57e");var y=s("8c4f"),O=s("9ab4"),x=s("48d3"),T=s("60a3");s("7a06");let k=class extends x["Component"]{render(){const e=arguments[0];return e("div",{class:"page-home"},["home"])}};k=Object(O["a"])([T["a"]],k);var E=k;let H=class extends x["Component"]{render(){const e=arguments[0];return e("div",{class:"page-mine"},["mine"])}};H=Object(O["a"])([T["a"]],H);var j,R=H;(function(e){e["Home"]="home",e["Mine"]="mine"})(j||(j={})),i["default"].use(y["a"]);const A=[{path:"/"+j.Home,name:j.Home,component:E},{path:"/"+j.Mine,name:j.Mine,component:R},{path:"*",redirect:{name:j.Home}}],F=new y["a"]({mode:"hash",base:"",routes:A});var C=F,P=s("2b88"),z=(s("2532"),s("5319"),s("ddb0"),s("5530")),D=s("7212"),N=s("6dd8");s("39b3");let $=class extends x["Component"]{get swiperScroll(){return this.$refs.mySwiper.$swiper}onResize(){setTimeout(()=>{this.updateScroll()},400)}mounted(){this.initClickHandel(),setTimeout(()=>{this.updateScroll(),this.observeResize()})}observeResize(){const e=[this.$el,this.$el.querySelector(".swiper-slide")],t=new N["a"](t=>{for(const s of t)e.includes(s.target)&&this.updateScroll()});e.forEach(e=>t.observe(e))}initClickHandel(){this.swiperScroll.el.addEventListener("click",()=>{this.stopScroll()})}addNoSwipingToTextNode(e){const t=e.childNodes;t.forEach(e=>{if(1==e.nodeType)this.addNoSwipingToTextNode(e);else if(3==e.nodeType&&e.nodeValue.replace(/(^\s*)|(\s*$)/g,"")){const t=e.parentNode;t.classList.remove("swiper-no-swiping"),t.classList.add("swiper-no-swiping")}})}updateScroll(){this.swiperScroll.update(),this.swiperScroll.scrollbar&&this.swiperScroll.scrollbar.updateSize()}stopScroll(){const e=this.swiperScroll;!e.destroyed&&this.scrollTo(e.getTranslate(),0)}scrollTo(e,t){const s=this.swiperScroll;s.touchEventsData.allowMomentumBounce=!1,s.transitionEnd(),s.setTransition(t),s.setTranslate(e)}render(){const e=arguments[0];return e(D["Swiper"],{attrs:{"cleanup-styles-on-destroy":!1,options:Object(z["a"])(Object(z["a"])({},this.options),{},{scrollbar:this.options.scrollbar?Object(z["a"])(Object(z["a"])({},this.options.scrollbar),{},{el:this.options.scrollbar.el+"-"+this._uid}):{}})},ref:"mySwiper",class:"scroll-container"},[e(D["SwiperSlide"],{ref:"scroller",class:this.scrollerClass},[this.$scopedSlots.default()]),this.options.scrollbar&&e("div",{class:["swiper-scrollbar",(this.options.scrollbar.el+"-"+this._uid).replace(".","").replace("#","")],slot:"scrollbar"})])}};Object(O["a"])([Object(T["d"])({default:()=>({direction:"vertical",slidesPerView:"auto",freeMode:!0,noSwiping:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,snapOnRelease:!1,hide:!0},mousewheel:!0})})],$.prototype,"options",void 0),Object(O["a"])([Object(T["d"])({default:""})],$.prototype,"scrollerClass",void 0),Object(O["a"])([Object(T["f"])("$state.resizeCount")],$.prototype,"onResize",null),$=Object(O["a"])([T["a"]],$);var L,q,M=$,U=(s("841c"),s("2638")),V=s.n(U);s("f7c0");class W extends u{}(function(e){e[e["NONE"]=0]="NONE",e[e["HOT"]=1]="HOT",e[e["NEW"]=2]="NEW",e[e["X1"]=3]="X1",e[e["X2"]=4]="X2",e[e["UP"]=5]="UP"})(L||(L={}));(function(e){e["DEFAULT"]="default",e["HOT"]="hot",e["SUGGEST"]="suggest",e["RESULT"]="result"})(q||(q={}));let G=class extends x["Component"]{constructor(){super(...arguments),this.focus=!1,this.pageStatus=q.DEFAULT,this.searchValue="",this.searchAdvice={showKeyword:"",realkeyword:""},this.historyList=["那么骄傲","往下跳","xxx","那么骄傲","往下跳","xxx","那么骄傲","往下跳","xxx","那么骄傲","往下跳","xxx"],this.hotList=[]}async initSearchAdvice(){const e=await b.searchAdvice();this.searchAdvice=e.data}async initSearch(){const e=new W;e.keywords=this.searchValue||this.searchAdvice.realkeyword;await b.search(e)}async initSearchHotDetail(){const e=await b.searchHotDetail();this.hotList=e.data}async initSearchSuggest(){}onSearchValueChange(){this.searchValue?this.focus&&(this.pageStatus==q.SUGGEST?this.initSearchSuggest():this.pageStatus=q.SUGGEST):this.pageStatus=q.HOT}onPageStatusChange(e,t){e==q.DEFAULT&&(this.initSearchAdvice(),this.inputDom&&this.inputDom.blur()),e==q.HOT&&this.initSearchHotDetail(),e==q.SUGGEST&&this.initSearchSuggest(),e==q.RESULT&&this.initSearch()}onFocus(){this.focus=!0,this.pageStatus==q.DEFAULT&&(this.pageStatus=q.HOT)}onBlur(){this.focus=!1}get checkPageStatus(){return{isDefault:this.pageStatus==q.DEFAULT,isHot:this.pageStatus==q.HOT,isSuggest:this.pageStatus==q.SUGGEST,isResult:this.pageStatus==q.RESULT}}deleteHistory(){this.historyList=[]}toResult(e){this.searchValue=e,this.$nextTick(()=>{this.pageStatus=q.RESULT})}renderHot(){const e=this.$createElement;return e("div",{class:"search-page-hot"},[0!=this.historyList.length&&e("section",{class:"search-history"},[e("div",{class:"title-box"},[e("span",["搜索历史"]),e("v-touch",{attrs:{tag:"i"},class:"icon-delete",on:{tap:()=>{this.deleteHistory()}}})]),e("div",{class:"content-box"},[e(M,{attrs:{options:{direction:"horizontal",slidesPerView:"auto",freeMode:!0,mousewheel:!0,freeModeMomentumBounce:!1}}},[e("ul",{class:"history-list-scroller"},[this.historyList.map(t=>e("v-touch",{attrs:{tag:"li"},on:{tap:()=>{this.toResult(t)}}},[t]))])])])]),e("section",{class:"search-hot-list"},[e("div",{class:"title-box"},[e("span",["热搜榜"])]),e("ul",{class:"content-box"},[0!=this.hotList.length&&this.hotList.map(({searchWord:t,iconType:s,content:i},n)=>e("v-touch",{attrs:{tag:"li"},on:{tap:()=>{this.toResult(t)}}},[e("span",{class:n<4?"mark":""},[n+1]),e("div",[e("section",{class:"search-word"},[e("span",[t]),e("i",{attrs:{"data-type":s}},[(()=>{switch(s){case L.HOT:return"HOT";case L.NEW:return"NEW";case L.UP:return"UP";default:return""}})()])]),e("section",{class:"hot-content"},[e("p",[i])])])]))])])])}renderSuggest(){const e=this.$createElement;return e("div",["suggest"])}renderResult(){const e=this.$createElement;return e("div",["result"])}render(){const e=arguments[0];return e("div",{class:"search-component",attrs:{"data-status":this.pageStatus}},[e("div",{class:"search-input-container"},[e("v-touch",{attrs:{tag:"i"},class:"icon-search"}),e("input",V()([{on:{input:[e=>{e.target.composing||(this.searchValue=e.target.value)},e=>{this.searchValue=e.target.value}],focus:()=>{this.onFocus()},blur:()=>{this.onBlur()}},ref:"input-dom",attrs:{type:"text",placeholder:this.searchAdvice.showKeyword},domProps:{value:this.searchValue}},{directives:[{name:"model",value:this.searchValue,modifiers:{}}]}])),e("transition",{attrs:{name:"fade"}},[e("v-touch",{class:"search-delete",attrs:{tag:"i"},on:{tap:()=>{this.searchValue=""}},directives:[{name:"show",value:this.searchValue}]},["+"])]),e("transition",{attrs:{name:"fade"}},[e("v-touch",{attrs:{tag:"span"},on:{tap:()=>{this.pageStatus=q.DEFAULT}},directives:[{name:"show",value:!this.checkPageStatus.isDefault}],class:"btn-leave"},["取消"])])]),e("transition",{attrs:{name:"fade"}},[!this.checkPageStatus.isDefault&&e("div",{class:"search-content-mian"},[e(M,{class:"search-scroll-view",scopedSlots:{default:()=>e("transition",{attrs:{name:this.$state.transitions.pages,mode:"out-in"}},[e("div",{class:"search-scroll-view-scroller",key:this.pageStatus},[[this.checkPageStatus.isHot&&this.renderHot(),this.checkPageStatus.isSuggest&&this.renderSuggest(),this.checkPageStatus.isResult&&this.renderResult()]])])}})])])])}};Object(O["a"])([Object(T["e"])("input-dom")],G.prototype,"inputDom",void 0),Object(O["a"])([Object(T["f"])("searchValue")],G.prototype,"onSearchValueChange",null),Object(O["a"])([Object(T["f"])("pageStatus",{immediate:!0})],G.prototype,"onPageStatusChange",null),G=Object(O["a"])([T["a"]],G);var X=G;s("6c7d");let _=class extends x["Component"]{get showSearch(){return this.$route.name==j.Home}render(){const e=arguments[0];return e("div",{class:"header-component"},[e(X,{style:this.showSearch?{}:{opacity:0,pointerEvents:"none"}})])}};_=Object(O["a"])([T["a"]],_);var I=_;s("a11d");let B=class extends x["Component"]{toggleIndex(e){this.active}render(){const e=arguments[0];return e("ul",{class:"tabs-wrapper"},[Array.from({length:this.length}).map((t,s)=>e("v-touch",{key:s,attrs:{tag:"li"},class:["tabs-item",this.active==s?"active":""],on:{tap:()=>{this.toggleIndex(s)}}},[this.$scopedSlots.default({i:s,isActive:this.active==s})]))])}};Object(O["a"])([Object(T["c"])("change",{type:Number})],B.prototype,"active",void 0),Object(O["a"])([Object(T["d"])({default:0})],B.prototype,"length",void 0),Object(O["a"])([Object(T["b"])("change")],B.prototype,"toggleIndex",null),B=Object(O["a"])([T["a"]],B);var J=B;s("1d71");let K=class extends x["Component"]{constructor(){super(...arguments),this.list=[{key:j.Home,value:"发现"},{key:j.Mine,value:"账号"}]}get active(){const e=this.list.findIndex(e=>e.key==this.$route.name);return~e?e:0}set active(e){this.$router.replace({name:this.list[e].key})}render(){const e=arguments[0];return e("div",{class:"footer-component"},[e(J,{class:"footer-navs",attrs:{length:this.list.length},scopedSlots:{default:({i:t,isActive:s})=>e("div",{class:"footer-nav-item"},[e("div",{class:"icon-box-container"},[e("transition",{attrs:{name:"scale",mode:"out-in",duration:100}},[e("div",{key:s?"on":"off",class:"icon-box",attrs:{"data-status":s?"on":"off"}},[e("i",{class:"icon-"+this.list[t].key})])])]),e("span",[" ",this.list[t].value])])},model:{value:this.active,callback:e=>{this.active=e}}})])}};K=Object(O["a"])([T["a"]],K);var Q,Y,Z=K;s("a1a3");(function(e){e["FIXED"]="fixed"})(Q||(Q={})),function(e){e[e["SEARCH"]=0]="SEARCH"}(Y||(Y={}));let ee=class extends x["Component"]{render(){const e=arguments[0];return e("div",{attrs:{id:"app"}},[e("div",{ref:"pages-box",attrs:{id:"pages-box"}},[e(M,{ref:"pageScroll",class:"pages-scroll-view",scopedSlots:{default:()=>e("transition",{attrs:{name:this.$state.transitions.pages}},[e("div",{ref:"page-box-container",class:"page-box-container",key:this.$route.name},[e("router-view")])])}})]),e("div",{attrs:{id:"fixed-box"}},[e(I),e(Z),e(P["PortalTarget"],{attrs:{name:Q.FIXED,multiple:!0}})])])}};ee=Object(O["a"])([T["a"]],ee);var te=ee,se=s("ca95"),ie=s.n(se);i["default"].config.productionTip=!1,i["default"].use(ie.a,{name:"v-touch"}),new i["default"]({router:C,render:e=>e(te)}).$mount("#app")},f57e:function(e,t,s){},f7c0:function(e,t,s){}});
//# sourceMappingURL=app.5d1d99bd.js.map