(function(e){function t(t){for(var r,o,i=t[0],c=t[1],l=t[2],d=0,u=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&u.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);h&&h(t);while(u.length)u.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],r=!0,i=1;i<s.length;i++){var c=s[i];0!==a[c]&&(r=!1)}r&&(n.splice(t--,1),e=o(o.s=s[0]))}return e}var r={},a={app:0},n=[];function o(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=r,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(s,r,function(t){return e[t]}.bind(null,r));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var h=c;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("cd49")},"1d71":function(e,t,s){},"39b3":function(e,t,s){},"6c7d":function(e,t,s){},"7a06":function(e,t,s){},a11d:function(e,t,s){},a1a3:function(e,t,s){},cd49:function(e,t,s){"use strict";s.r(t);s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e");const a={transitions:{pages:"fade"}};r["default"].prototype.$state=r["default"].observable(a);class n{constructor(){this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}emit(e,...t){if(!this.events[e])return this;const s=this.events[e];return s.map(e=>e).forEach(e=>e.apply(this,t)),this}off(e,t){if(!this.events[e])return this;if(!t)return this.events[e]=null,this;const s=this.events[e].indexOf(t);return this.events[e].splice(s,1),this}once(e,t){const s=(...r)=>{t.apply(this,r),this.off(e,s)};return this.on(e,s),this}}var o,i=s("bc3a"),c=s.n(i);c.a.defaults.withCredentials=!0;class l{}class h extends n{constructor(e,t){super(),this.timeout=6e4,this.url=e,this.timeout=t||this.timeout,c.a.defaults.timeout=this.timeout}send(e,t,r){return console.log(`ajax Request: ${e} `+JSON.stringify(t)),new Promise(async(a,n)=>{let o=null,i=null;const l=c.a.post(this.url+"/"+e+"?"+s("4328").stringify({timestamp:+new Date}),t);l.catch(t=>{console.error(t.message),o={command:e,err:t},this.emit("http-error",o),r&&r(o,i),n(o)}),i=(await l).data,console.log(`ajax Response: ${e} `+JSON.stringify(i)),200==i.code?(r&&r(o,i),a(i)):(o={command:e,err:i},this.emit("res-error",o),r&&r(o,null),n(o))})}}(function(e){e["SearchAdvice"]="search/default",e["Search"]="search"})(o||(o={}));class d extends h{searchAdvice(e){return this.send(o.SearchAdvice,new l,e)}search(e,t){return this.send(o.Search,e,t)}}var u=s("72c2");class p{constructor(){this.isWinPlatForm=/^Win\w+/.test(navigator.platform)}checkHtmlScroll(e){u["a"].mobile()&&u["a"].ios()&&u["a"].iphone()&&"portrait"==e&&setTimeout(()=>{document.documentElement.scrollTop=0},300)}initPushNavBar(){if(u["a"].mobile()&&u["a"].ios()&&u["a"].iphone()){let e=!1;const t=()=>{const s=screen.width,r=0,a=!this.isWinPlatForm&&innerHeight<innerWidth&&innerHeight<s+r,n=document.body;a?(n.style.pointerEvents="none",n.style.height="200vw",e||(window.scrollTo(0,0),e=!0)):(n.style.pointerEvents="",n.style.height="",e=!1),requestAnimationFrame(t)};t()}}}const v=new d("http://66.11.117.120:3000"),f=new n,m=new p;u["a"].onChangeOrientation(e=>{console.log("New orientation is "+e),m.checkHtmlScroll(e)}),m.initPushNavBar();u["a"];s("b429"),s("f5df1"),s("a7a3"),s("f57e");var b=s("8c4f"),g=s("9ab4"),w=s("48d3"),y=s("60a3");s("7a06");let S=class extends w["Component"]{render(){const e=arguments[0];return e("div",{class:"page-home"},["home"])}};S=Object(g["a"])([y["a"]],S);var O=S;let j=class extends w["Component"]{render(){const e=arguments[0];return e("div",{class:"page-mine"},["mine"])}};j=Object(g["a"])([y["a"]],j);var x,k=j;(function(e){e["Home"]="home",e["Mine"]="mine"})(x||(x={})),r["default"].use(b["a"]);const T=[{path:"/"+x.Home,name:x.Home,component:O},{path:"/"+x.Mine,name:x.Mine,component:k},{path:"*",redirect:{name:x.Home}}],C=new b["a"]({mode:"hash",base:"",routes:T});var P=C,A=s("2b88"),$=(s("2532"),s("5319"),s("ddb0"),s("5530")),N=s("7212"),H=s("6dd8");s("39b3");let V=class extends w["Component"]{get swiperScroll(){return this.$refs.mySwiper.$swiper}mounted(){this.initClickHandel(),setTimeout(()=>{this.updateScroll(),this.observeResize()})}observeResize(){const e=[this.$el,this.$el.querySelector(".swiper-slide")],t=new H["a"](t=>{for(const s of t)e.includes(s.target)&&this.updateScroll()});e.forEach(e=>t.observe(e))}initClickHandel(){this.swiperScroll.el.addEventListener("click",()=>{this.stopScroll()})}addNoSwipingToTextNode(e){const t=e.childNodes;t.forEach(e=>{if(1==e.nodeType)this.addNoSwipingToTextNode(e);else if(3==e.nodeType&&e.nodeValue.replace(/(^\s*)|(\s*$)/g,"")){const t=e.parentNode;t.classList.remove("swiper-no-swiping"),t.classList.add("swiper-no-swiping")}})}updateScroll(){this.swiperScroll.update(),this.swiperScroll.scrollbar&&this.swiperScroll.scrollbar.updateSize()}stopScroll(){const e=this.swiperScroll;this.scrollTo(e.getTranslate(),0)}scrollTo(e,t){const s=this.swiperScroll;s.touchEventsData.allowMomentumBounce=!1,s.transitionEnd(),s.setTransition(t),s.setTranslate(e)}render(){const e=arguments[0];return e(N["Swiper"],{ref:"mySwiper",class:"scroll-container",attrs:{options:Object($["a"])(Object($["a"])({},this.options),{},{scrollbar:Object($["a"])(Object($["a"])({},this.options.scrollbar),{},{el:this.options.scrollbar.el+"-"+this._uid})})}},[e(N["SwiperSlide"],{ref:"scroller",class:this.scrollerClass},[this.$scopedSlots.default()]),e("div",{class:["swiper-scrollbar",(this.options.scrollbar.el+"-"+this._uid).replace(".","").replace("#","")],slot:"scrollbar"})])}};Object(g["a"])([Object(y["d"])({default:()=>({direction:"vertical",slidesPerView:"auto",freeMode:!0,noSwiping:!0,observer:!0,observeParents:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,snapOnRelease:!1,hide:!0},mousewheel:!0})})],V.prototype,"options",void 0),Object(g["a"])([Object(y["d"])({default:""})],V.prototype,"scrollerClass",void 0),V=Object(g["a"])([y["a"]],V);var M=V,E=(s("841c"),s("2638")),_=s.n(E);s("f7c0");class D extends l{}let L=class extends w["Component"]{constructor(){super(...arguments),this.enterSearch=!1,this.searchValue="",this.searchAdvice={showKeyword:"",realkeyword:""}}async initSearchAdvice(){const e=await v.searchAdvice();this.searchAdvice=e.data}async initSearch(){let e=new D;e.keywords=this.searchValue||this.searchAdvice.realkeyword;await v.search(e)}onSearchValueChange(){this.searchValue||this.initSearchAdvice()}onLeave(){this.enterSearch=!1,console.log(this.inputDom),this.inputDom.blur()}created(){this.initSearchAdvice()}render(){const e=arguments[0];return e("div",{class:"search-component",attrs:{"data-status":this.enterSearch?"enter":"leave"}},[e("v-touch",{attrs:{tag:"i"},class:"icon-search",on:{tap:()=>{this.initSearch()}}}),e("input",_()([{on:{input:e=>{e.target.composing||(this.searchValue=e.target.value)},focus:()=>{this.enterSearch=!0},keydown:w["modifiers"].enter(this.initSearch)},ref:"input-dom",attrs:{type:"text",placeholder:this.searchAdvice.showKeyword},domProps:{value:this.searchValue}},{directives:[{name:"model",value:this.searchValue,modifiers:{}}]}])),e("transition",{attrs:{name:"fade"}},[e("v-touch",{attrs:{tag:"span"},on:{tap:()=>{this.onLeave()}},directives:[{name:"show",value:this.enterSearch}],class:"btn-leave"},["取消"])])])}};Object(g["a"])([Object(y["e"])("input-dom")],L.prototype,"inputDom",void 0),Object(g["a"])([Object(y["f"])("searchValue")],L.prototype,"onSearchValueChange",null),L=Object(g["a"])([y["a"]],L);var R=L;s("6c7d");let I=class extends w["Component"]{render(){const e=arguments[0];return e("div",{class:"header-component"},[e(R)])}};I=Object(g["a"])([y["a"]],I);var J=I;s("a11d");let W=class extends w["Component"]{toggleIndex(e){this.active}render(){const e=arguments[0];return e("ul",{class:"tabs-wrapper"},[Array.from({length:this.length}).map((t,s)=>e("v-touch",{key:s,attrs:{tag:"li"},class:["tabs-item",this.active==s?"active":""],on:{tap:()=>{this.toggleIndex(s)}}},[this.$scopedSlots.default({i:s,isActive:this.active==s})]))])}};Object(g["a"])([Object(y["c"])("change",{type:Number})],W.prototype,"active",void 0),Object(g["a"])([Object(y["d"])({default:0})],W.prototype,"length",void 0),Object(g["a"])([Object(y["b"])("change")],W.prototype,"toggleIndex",null),W=Object(g["a"])([y["a"]],W);var q=W;s("1d71");let z=class extends w["Component"]{constructor(){super(...arguments),this.list=[{key:x.Home,value:"发现"},{key:x.Mine,value:"我的"}]}get active(){const e=this.list.findIndex(e=>e.key==this.$route.name);return~e?e:0}set active(e){this.$router.replace({name:this.list[e].key})}render(){const e=arguments[0];return e("div",{class:"footer-component"},[e(q,{class:"footer-navs",attrs:{length:this.list.length},scopedSlots:{default:({i:t,isActive:s})=>e("div",{class:"footer-nav-item"},[e("div",{class:"icon-box-container"},[e("transition",{attrs:{name:"scale"}},[e("div",{key:s?"on":"off",class:"icon-box",attrs:{"data-status":s?"on":"off"}},[e("i",{class:"icon-"+this.list[t].key})])])]),e("span",[" ",this.list[t].value])])},model:{value:this.active,callback:e=>{this.active=e}}})])}};z=Object(g["a"])([y["a"]],z);var B=z;s("a1a3");let F=class extends w["Component"]{render(){const e=arguments[0];return e("div",{attrs:{id:"app"}},[e("div",{ref:"pages-box",attrs:{id:"pages-box"}},[e(M,{ref:"pageScroll",class:"pages-scroll-view",scopedSlots:{default:()=>e("transition",{attrs:{name:this.$state.transitions.pages}},[e("div",{ref:"page-box-container",class:"page-box-container",key:this.$route.name},[e("router-view")])])}})]),e("div",{attrs:{id:"fixed-box"}},[e(J),e(B),e(A["PortalTarget"],{attrs:{name:"fixed",multiple:!0}})])])}};F=Object(g["a"])([y["a"]],F);var K=F,G=s("ca95"),Q=s.n(G);r["default"].config.productionTip=!1,r["default"].use(Q.a,{name:"v-touch"}),new r["default"]({router:P,render:e=>e(K)}).$mount("#app")},f57e:function(e,t,s){},f7c0:function(e,t,s){}});
//# sourceMappingURL=app.efb08910.js.map