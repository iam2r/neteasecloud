(function(e){function t(t){for(var r,o,c=t[0],s=t[1],u=t[2],d=0,f=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"1d71":function(e,t,n){},"39b3":function(e,t,n){},"6c7d":function(e,t,n){},"7a06":function(e,t,n){},a11d:function(e,t,n){},a1a3:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("4160"),n("caad"),n("2532"),n("159b");var r=n("b85c"),a=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("b429"),n("f5df1"),n("a7a3"),n("f57e"),n("2b0e")),i={transitions:{pages:"fade"}},o=(a["default"].prototype.$state=a["default"].observable(i),n("8c4f")),c=n("d4ec"),s=n("bee2"),u=n("262e"),l=n("2caf"),d=n("9ab4"),f=n("48d3"),p=n("60a3"),h=(n("7a06"),function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"render",value:function(){var e=arguments[0];return e("div",{class:"page-home"},["home"])}}]),n}(f["Component"]));h=Object(d["a"])([p["a"]],h);var v=h,b=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"render",value:function(){var e=arguments[0];return e("div",{class:"page-mine"},["mine"])}}]),n}(f["Component"]);b=Object(d["a"])([p["a"]],b);var y,m=b;(function(e){e["Home"]="home",e["Mine"]="mine"})(y||(y={})),a["default"].use(o["a"]);var O=[{path:"/"+y.Home,name:y.Home,component:v},{path:"/"+y.Mine,name:y.Mine,component:m},{path:"*",redirect:{name:y.Home}}],j=new o["a"]({mode:"hash",base:"",routes:O}),g=j,w=(n("b0c0"),n("2b88")),S=(n("ac1f"),n("5319"),n("5530")),k=n("7212"),x=n("6dd8"),A=(n("39b3"),function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=this;this.initClickHandel(),setTimeout((function(){e.updateScroll(),e.observeResize()}))}},{key:"observeResize",value:function(){var e=this,t=this.$el,n=this.$el.querySelector(".swiper-slide *"),a=[this.$el,this.$el.querySelector(".swiper-slide *")];console.log(t,n);var i=new x["a"]((function(t){var n,i=Object(r["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a.includes(o.target)&&setTimeout((function(){console.log("ddddddddddddddddddddddddddddddddd"),e.updateScroll()}),500)}}catch(c){i.e(c)}finally{i.f()}}));a.forEach((function(e){return i.observe(e)}))}},{key:"initClickHandel",value:function(){var e=this;this.swiperScroll.el.addEventListener("click",(function(){e.stopScroll()}))}},{key:"addNoSwipingToTextNode",value:function(e){var t=this,n=e.childNodes;n.forEach((function(e){if(1==e.nodeType)t.addNoSwipingToTextNode(e);else if(3==e.nodeType&&e.nodeValue.replace(/(^\s*)|(\s*$)/g,"")){var n=e.parentNode;n.classList.remove("swiper-no-swiping"),n.classList.add("swiper-no-swiping")}}))}},{key:"updateScroll",value:function(){this.swiperScroll.update(),this.swiperScroll.scrollbar&&this.swiperScroll.scrollbar.updateSize()}},{key:"stopScroll",value:function(){var e=this.swiperScroll;this.scrollTo(e.getTranslate(),0)}},{key:"scrollTo",value:function(e,t){var n=this.swiperScroll;n.touchEventsData.allowMomentumBounce=!1,n.transitionEnd(),n.setTransition(t),n.setTranslate(e)}},{key:"render",value:function(){var e=arguments[0];return e(k["Swiper"],{ref:"mySwiper",class:"scroll-container",attrs:{options:Object(S["a"])(Object(S["a"])({},this.options),{},{scrollbar:Object(S["a"])(Object(S["a"])({},this.options.scrollbar),{},{el:this.options.scrollbar.el+"-"+this._uid})})}},[e(k["SwiperSlide"],{ref:"scroller",class:this.scrollerClass},[this.$scopedSlots.default()]),e("div",{class:["swiper-scrollbar",(this.options.scrollbar.el+"-"+this._uid).replace(".","").replace("#","")],slot:"scrollbar"})])}},{key:"swiperScroll",get:function(){return this.$refs.mySwiper.$swiper}}]),n}(f["Component"]));Object(d["a"])([Object(p["d"])({default:function(){return{direction:"vertical",slidesPerView:"auto",freeMode:!0,noSwiping:!0,observer:!0,observeParents:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,snapOnRelease:!1,hide:!0},mousewheel:!0}}})],A.prototype,"options",void 0),Object(d["a"])([Object(p["d"])({default:""})],A.prototype,"scrollerClass",void 0),A=Object(d["a"])([p["a"]],A);var C=A,T=(n("841c"),n("2638")),$=n.n(T),P=(n("96cf"),n("1da1")),R=(n("d3b7"),n("c975"),n("d81d"),n("a434"),function(){function e(){Object(c["a"])(this,e),this.events={}}return Object(s["a"])(e,[{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(!this.events[e])return this;var i=this.events[e];return i.map((function(e){return e})).forEach((function(e){return e.apply(t,r)})),this}},{key:"off",value:function(e,t){if(!this.events[e])return this;if(!t)return this.events[e]=null,this;var n=this.events[e].indexOf(t);return this.events[e].splice(n,1),this}},{key:"once",value:function(e,t){var n=this,r=function r(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];t.apply(n,i),n.off(e,r)};return this.on(e,r),this}}]),e}()),E=n("bc3a"),V=n.n(E);V.a.defaults.withCredentials=!0;var M,N=function e(){Object(c["a"])(this,e)},H=function(e){Object(u["a"])(r,e);var t=Object(l["a"])(r);function r(e,n){var a;return Object(c["a"])(this,r),a=t.call(this),a.timeout=6e4,a.url=e,a.timeout=n||a.timeout,V.a.defaults.timeout=a.timeout,a}return Object(s["a"])(r,[{key:"send",value:function(e,t,r){var a=this;return console.log("ajax Request: ".concat(e," ")+JSON.stringify(t)),new Promise(function(){var i=Object(P["a"])(regeneratorRuntime.mark((function i(o,c){var s,u,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s=null,u=null,l=V.a.post(a.url+"/"+e+"?"+n("4328").stringify({timestamp:+new Date}),t),l.catch((function(t){console.error(t.message),s={command:e,err:t},a.emit("http-error",s),r&&r(s,u),c(s)})),i.next=5,l;case 5:u=i.sent.data,console.log("ajax Response: ".concat(e," ")+JSON.stringify(u)),200==u.code?(r&&r(s,u),o(u)):(s={command:e,err:u},a.emit("res-error",s),r&&r(s,null),c(s));case 8:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}())}}]),r}(R);(function(e){e["SearchAdvice"]="search/default",e["Search"]="search"})(M||(M={}));var _=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"searchAdvice",value:function(e){return this.send(M.SearchAdvice,new N,e)}},{key:"search",value:function(e,t){return this.send(M.Search,e,t)}}]),n}(H),B=new _("http://66.11.117.120:3000"),D=(new R,n("f7c0"),function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(N)),L=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.enterSearch=!1,e.searchValue="",e.searchAdvice={showKeyword:"",realkeyword:""},e}return Object(s["a"])(n,[{key:"initSearchAdvice",value:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.searchAdvice();case 2:t=e.sent,this.searchAdvice=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initSearch",value:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new D,t.keywords=this.searchValue||this.searchAdvice.realkeyword,e.next=4,B.search(t);case 4:e.sent;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSearchValueChange",value:function(){this.searchValue||this.initSearchAdvice()}},{key:"onLeave",value:function(){this.enterSearch=!1,console.log(this.inputDom),this.inputDom.blur()}},{key:"created",value:function(){this.initSearchAdvice()}},{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{class:"search-component",attrs:{"data-status":this.enterSearch?"enter":"leave"}},[t("v-touch",{attrs:{tag:"i"},class:"icon-search",on:{tap:function(){e.initSearch()}}}),t("input",$()([{on:{input:function(t){t.target.composing||(e.searchValue=t.target.value)},focus:function(){e.enterSearch=!0},keydown:f["modifiers"].enter(this.initSearch)},ref:"input-dom",attrs:{type:"text",placeholder:this.searchAdvice.showKeyword},domProps:{value:e.searchValue}},{directives:[{name:"model",value:e.searchValue,modifiers:{}}]}])),t("transition",{attrs:{name:"fade"}},[t("v-touch",{attrs:{tag:"span"},on:{tap:function(){e.onLeave()}},directives:[{name:"show",value:this.enterSearch}],class:"btn-leave"},["取消"])])])}}]),n}(f["Component"]);Object(d["a"])([Object(p["e"])("input-dom")],L.prototype,"inputDom",void 0),Object(d["a"])([Object(p["f"])("searchValue")],L.prototype,"onSearchValueChange",null),L=Object(d["a"])([p["a"]],L);var q=L,z=(n("6c7d"),function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"render",value:function(){var e=arguments[0];return e("div",{class:"header-component"},[e(q)])}}]),n}(f["Component"]));z=Object(d["a"])([p["a"]],z);var I=z,J=(n("c740"),n("a630"),n("a9e3"),n("3ca3"),n("a11d"),function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"toggleIndex",value:function(e){this.active}},{key:"render",value:function(){var e=this,t=arguments[0];return t("ul",{class:"tabs-wrapper"},[Array.from({length:this.length}).map((function(n,r){return t("v-touch",{key:r,attrs:{tag:"li"},class:["tabs-item",e.active==r?"active":""],on:{tap:function(){e.toggleIndex(r)}}},[e.$scopedSlots.default({i:r,isActive:e.active==r})])}))])}}]),n}(f["Component"]));Object(d["a"])([Object(p["c"])("change",{type:Number})],J.prototype,"active",void 0),Object(d["a"])([Object(p["d"])({default:0})],J.prototype,"length",void 0),Object(d["a"])([Object(p["b"])("change")],J.prototype,"toggleIndex",null),J=Object(d["a"])([p["a"]],J);var K=J,W=(n("1d71"),function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.list=[{key:y.Home,value:"发现"},{key:y.Mine,value:"我的"}],e}return Object(s["a"])(n,[{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{class:"footer-component"},[t(K,{class:"footer-navs",attrs:{length:this.list.length},scopedSlots:{default:function(n){var r=n.i,a=n.isActive;return t("div",{class:"footer-nav-item"},[t("div",{class:"icon-box-container"},[t("transition",{attrs:{name:"scale"}},[t("div",{key:a?"on":"off",class:"icon-box",attrs:{"data-status":a?"on":"off"}},[t("i",{class:"icon-"+e.list[r].key})])])]),t("span",[" ",e.list[r].value])])}},model:{value:e.active,callback:function(t){e.active=t}}})])}},{key:"active",get:function(){var e=this,t=this.list.findIndex((function(t){return t.key==e.$route.name}));return~t?t:0},set:function(e){this.$router.replace({name:this.list[e].key})}}]),n}(f["Component"]));W=Object(d["a"])([p["a"]],W);var F=W,G=(n("a1a3"),function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"observePageResize",value:function(){var e=this,t=this.pageScrollEffect,n=new x["a"]((function(n){var a,i=Object(r["a"])(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;t.includes(o.target)&&e.pageScroll.updateScroll()}}catch(c){i.e(c)}finally{i.f()}}));this.pageScrollEffect.forEach((function(e){return n.observe(e)}))}},{key:"mounted",value:function(){}},{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{attrs:{id:"app"}},[t("div",{ref:"pages-box",attrs:{id:"pages-box"}},[t(C,{ref:"pageScroll",class:"pages-scroll-view",scopedSlots:{default:function(){return t("transition",{attrs:{name:e.$state.transitions.pages}},[t("div",{ref:"page-box-container",class:"page-box-container",key:e.$route.name},[t("router-view")])])}}})]),t("div",{attrs:{id:"fixed-box"}},[t(I),t(F),t(w["PortalTarget"],{attrs:{name:"fixed",multiple:!0}})])])}},{key:"pageScrollEffect",get:function(){return[this.pagesBox,this.pageBoxContainer]}}]),n}(f["Component"]));Object(d["a"])([Object(p["e"])("pages-box")],G.prototype,"pagesBox",void 0),Object(d["a"])([Object(p["e"])("page-box-container")],G.prototype,"pageBoxContainer",void 0),Object(d["a"])([Object(p["e"])()],G.prototype,"pageScroll",void 0),G=Object(d["a"])([p["a"]],G);var Q=G,U=n("ca95"),X=n.n(U),Y=[document.body],Z=new x["a"]((function(e){var t,n=Object(r["a"])(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;Y.includes(a.target)&&document.querySelector("html").setAttribute("data-screen",innerWidth>innerHeight?"landscape":"portrait")}}catch(i){n.e(i)}finally{n.f()}}));Y.forEach((function(e){return Z.observe(e)})),a["default"].config.productionTip=!1,a["default"].use(X.a,{name:"v-touch"}),new a["default"]({router:g,render:function(e){return e(Q)}}).$mount("#app")},f57e:function(e,t,n){},f7c0:function(e,t,n){}});
//# sourceMappingURL=app-legacy.7217e3e1.js.map